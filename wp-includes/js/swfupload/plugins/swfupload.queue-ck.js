/*
	Queue Plug-in
	
	Features:
		*Adds a cancelQueue() method for cancelling the entire queue.
		*All queued files are uploaded when startUpload() is called.
		*If false is returned from uploadComplete then the queue upload is stopped.
		 If false is not returned (strict comparison) then the queue upload is continued.
		*Adds a QueueComplete event that is fired when all the queued files have finished uploading.
		 Set the event handler with the queue_complete_handler setting.
		
	*/var SWFUpload;if(typeof SWFUpload=="function"){SWFUpload.queue={};SWFUpload.prototype.initSettings=function(e){return function(){typeof e=="function"&&e.call(this);this.queueSettings={};this.queueSettings.queue_cancelled_flag=!1;this.queueSettings.queue_upload_count=0;this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler;this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler;this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler;this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler;this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.startUpload=function(e){this.queueSettings.queue_cancelled_flag=!1;this.callFlash("StartUpload",[e])};SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0;this.stopUpload();var e=this.getStats();while(e.files_queued>0){this.cancelUpload();e=this.getStats()}};SWFUpload.queue.uploadStartHandler=function(e){var t;typeof this.queueSettings.user_upload_start_handler=="function"&&(t=this.queueSettings.user_upload_start_handler.call(this,e));t=t===!1?!1:!0;this.queueSettings.queue_cancelled_flag=!t;return t};SWFUpload.queue.uploadCompleteHandler=function(e){var t=this.queueSettings.user_upload_complete_handler,n;e.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++;typeof t=="function"?n=t.call(this,e)===!1?!1:!0:e.filestatus===SWFUpload.FILE_STATUS.QUEUED?n=!1:n=!0;if(n){var r=this.getStats();if(r.files_queued>0&&this.queueSettings.queue_cancelled_flag===!1)this.startUpload();else if(this.queueSettings.queue_cancelled_flag===!1){this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]);this.queueSettings.queue_upload_count=0}else{this.queueSettings.queue_cancelled_flag=!1;this.queueSettings.queue_upload_count=0}}}};